# Robot Monitoring Dashboard - 화면 설계서 (v1.1)

**프로젝트명**: robot-monitoring-dashboard  
**목적**: 단일 산업용 로봇의 실시간 정밀 모니터링을 위한 웹 기반 3D 디지털 트윈 대시보드  
**대상 해상도**: Desktop 우선 (1920×1080 기준), Tablet/Mobile 반응형 지원  
**핵심 원칙**:
- **단일 로봇 집중 (Single Robot Focus)**: 복잡한 공장 전체 뷰를 배제하고 단일 로봇의 정밀한 움직임과 상태에 집중
- 3D Viewer를 메인으로 (클라이언트 측 @react-three/fiber 100% 렌더링)
- ROS2 메시지 규격(sensor_msgs/JointState) 기반의 자연스러운 조인트 애니메이션
- Simulated data + requestAnimationFrame 기반 60fps 애니메이션
- Feature-Sliced Design 구조 준수 (features/robot/)

---

## 1. 전체 레이아웃 구조 (Desktop 기준)

```
┌───────────────────────────────────────────────────────────────────────────────────────────────┐
│ [Header - Fixed AppBar]                                                                       │
│ 로고 | Robot Monitoring Dashboard                  모드: Simulated | Power Avg: 350W | 상태: Normal   │
│ [Dark/Light 토글] [Refresh/Reset]                                                             │
└───────────────────────────────────────────────────────────────────────────────────────────────┘

┌───────────────────────────────┬───────────────────────────────────────────────────────────────┐
│ Side Panel (Left, 25-30%)     │ Main 3D Viewer Area (70-75%)                                          │
│ - 접을 수 있는 Drawer 스타일  │ - Full height Canvas (@react-three/fiber)                             │
│                               │ - OrbitControls (제한적 Zoom 지원, 로봇 중심 시야)                    │
│ ┌───────────────────────────┐ │                                                                       │
│ │ Robot List / Status       │ │ [Single Robot Detail View]                                            │
│ │ • Robot #1 [OK]           │ │   - 정밀 UR10/UR10e 로봇 모델 (glTF)                                  │
│ │ • Real-time Telemetry     │ │   - 전력 사양: 100-240 VAC, Typical 350W (Max 615W)                   │
│ └───────────────────────────┘ │   - 바닥 Grid 및 조명 (Stage env)                                     │
│                               │                                                                       │
│ ┌───────────────────────────┐ │                                                                       │
│ │ Selected Robot Telemetry  │ │                                                                       │
│ │ • Gauge: Speed, Torque    │ │                                                                       │
│ │ • Battery, Temp, etc.     │ │                                                                       │
│ │ • Trend Chart (작은 Line) │ │                                                                       │
│ └───────────────────────────┘ │                                                                       │
│                               │                                                                       │
│ ┌───────────────────────────┐ │                                                                       │
│ │ Joint Control Panel       │ │                                                                       │
│ │ • 6축 Slider + Input      │ │                                                                       │
│ │ • Home / Reset 버튼       │ │                                                                       │
│ │ • E-Stop (빨간 버튼)      │ │                                                                       │
│ └───────────────────────────┘ │                                                                       │
└───────────────────────────────┴───────────────────────────────────────────────────────────────┘

┌───────────────────────────────────────────────────────────────────────────────────────────────┐
│ [Footer - Thin Status Bar]                                                                    │
│ Simulated Mode | Latency: <10ms | FPS: 60 | Last Update: 2026-02-01 16:15 | © donghoon     │
└───────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 상세 설명

### 2.1 3D 로봇 뷰어 (Main Canvas)
- **카메라 제어**: OrbitControls 활용하되, `enableZoom: false` 설정을 통해 사용자 경험을 단순화하고 로봇에 집중하게 함.
- **로봇 모델**: UR10 (Universal Robotics) 표준 규격을 따르는 glTF 모델 사용.
- **자연스러운 애니메이션**: 
  - 각 조인트(Shoulder, Elbow, Wrist)의 회전축을 실제 로봇 기하학과 일치하도록 정밀 매핑.
  - ROS2 `JointState` 형식을 모사하여 각 조인트별 라디안(Radian) 값을 기반으로 실시간 렌더링.
- **시각 효과**:
  - `drei`의 `<Outlines>`를 사용하여 선택/작동 중인 로봇의 실루엣 강조 (Cyan 계열).
  - `Stage` 컴포넌트로 자동 조명 및 환경 설정.

### 2.2 Side Panel (Telemetry & Control)
- **로봇 리스트**: 현재 모니터링 중인 로봇의 요약 정보 및 하드웨어 스펙 표시.
  - **무게**: 로봇암 33.3 kg (UR10e) / Control Box 별도
- **텔레메트리 카드**: AC 전력 소모량(W), 입력 전압(V), 온도 등의 실시간 상태를 게이지와 미니 차트로 시각화.
  - **Typical**: 350W / **Peak**: 615W
- **조인트 제어**: 직접 슬라이더나 수치를 입력하여 조인트 각도를 제어 (시뮬레이션 모드 전용).

---

## 3. 반응형 고려사항

| 디바이스 | 레이아웃 변경점 | 추천 스타일 |
| :--- | :--- | :--- |
| **Desktop** | 위 와이어프레임 그대로 (Side Panel 고정/접기 가능) | 기본 |
| **Tablet (가로)** | Side Panel 폭 35% → 3D Viewer 65% | Drawer |
| **Mobile (세로)** | 3D Viewer 상단 (50vh) → 하단에 텔레메트리 및 컨트롤 배치 | Scroll Layout |

---

## 4. 색상 & UI 가이드

- **상태 색상**:
  - OK/Normal: `#4caf50` (Green)
  - Warning: `#ff9800` (Orange)
  - Critical: `#f44336` (Red)
- **배경**: Sleek Dark Mode (`#0a1929`)
- **강조색**: Cyan Glow (`#00e5ff`)
- **MUI 테마**: 커스텀 다크 테마 적용

---

## 5. 최종 구현 사양 (V1.1 반영)

1. **Overview 모드 제거**: 불필요한 복잡성을 제거하고 단일 로봇 중심의 정교한 모니터링에 집중.
2. **제한적 시야 제어 (Controlled FOV)**: 줌(Zoom) 기능을 적절히 제한(min/max)하고 로봇의 스케일을 최적화하여 항상 안정적인 모니터링 시야를 보장함.
3. **정밀 조인트 매핑**: UR10의 실제 kinematics 축(Base Pan, Shoulder Lift, Elbow, Wrist 1-3)을 코드 수준에서 정확히 구현.
4. **Zustand 기반 싱크**: 스토어의 상태가 3D 씬과 UI(사이드바)에 1ms 미만의 지연율로 동시 반영됨.
